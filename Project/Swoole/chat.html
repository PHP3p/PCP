<html>
<head>
    <meta charset="utf-8">
    <title>Swoole聊天程序</title>
</head>
<body>
    <div style="width:300px;height:400px;border:1px solid black;overflow:scroll;">
    </div>
    <p>
        <input type="text" name="content" style="border:1px solid black;">
        <button type="submit">发送</button>
    </p>
</body>
<script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
<script>
$(function () {
    var ws = new WebSocket('ws://192.168.157.139:8081');
    ws.onmessage = function (event) {
        var content = event.data;
        $('div').append("<p>" + content + "</p>");
        $('div').scrollTop( $('div')[0].scrollHeight );
    };

    $('button').on('click', function () {
        var content = $('input').val();
        //$('div').append("<p>" + content + "</p>");
        //$('div').scrollTop( $('div')[0].scrollHeight );

        ws.send(content);
    });
});
</script>
</html>
